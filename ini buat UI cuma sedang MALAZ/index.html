<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Ruang Coding Antrian - Loket Panggilan</title>

<!-- Font Awesome CDN -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" />

<style>
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');

  *, *::before, *::after {
    box-sizing: border-box;
  }
  
  body {
    margin: 0;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
    background: #ffffff;
    color: #1f2937;
    font-size: 14px;
    min-height: 100vh;
    padding: 20px;
  }

  /* Sidebar Compact */
  .sidebar-compact {
    position: fixed;
    top: 20px;
    left: 20px;
    z-index: 1000;
  }

  .menu-toggle {
    width: 48px;
    height: 48px;
    background: #f9fafb;
    border: 1px solid #e5e7eb;
    border-radius: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #374151;
    font-size: 20px;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
  }

  .menu-toggle:hover {
    background: #f3f4f6;
    border-color: #d1d5db;
    transform: scale(1.05);
  }

  .sidebar-menu {
    position: absolute;
    top: 60px;
    left: 0;
    width: 280px;
    background: #ffffff;
    border: 1px solid #e5e7eb;
    border-radius: 20px;
    padding: 20px;
    opacity: 0;
    visibility: hidden;
    transform: translateY(-10px);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
  }

  .sidebar-menu.open {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
  }

  .brand-compact {
    font-size: 15px;
    font-weight: 700;
    color: #111827;
    margin-bottom: 16px;
    padding-bottom: 16px;
    border-bottom: 1px solid #e5e7eb;
  }

  .nav-section-compact {
    margin-bottom: 20px;
  }

  .nav-label-compact {
    font-size: 11px;
    font-weight: 700;
    color: #6b7280;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-bottom: 8px;
  }

  .nav-list-compact {
    list-style: none;
    margin: 0;
    padding: 0;
  }

  .nav-list-compact li {
    margin-bottom: 4px;
  }

  .nav-list-compact a {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 10px 14px;
    border-radius: 12px;
    color: #374151;
    font-size: 13px;
    font-weight: 500;
    transition: all 0.2s;
    cursor: pointer;
  }

  .nav-list-compact a:hover {
    background: #f3f4f6;
  }

  .nav-list-compact a.active {
    background: #2563eb;
    color: white;
    font-weight: 600;
  }

  .nav-list-compact .icon {
    width: 18px;
    text-align: center;
  }

  /* Main Container */
  .container {
    max-width: 1400px;
    margin: 0 auto;
    padding-left: 90px;
  }

  .page-header {
    margin-bottom: 32px;
  }

  .page-title {
    font-size: 32px;
    font-weight: 800;
    color: #111827;
    margin: 0 0 8px 0;
  }

  .page-subtitle {
    font-size: 15px;
    color: #6b7280;
    margin: 0;
    font-weight: 500;
  }

  /* Glass Card Base */
  .glass-card {
    background: #ffffff;
    border: 1px solid #e5e7eb;
    border-radius: 24px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
    padding: 28px;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .glass-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.08);
  }

  /* Live Status Header */
  .live-status-card {
    display: flex;
    align-items: center;
    gap: 20px;
    margin-bottom: 24px;
  }

  .live-icon {
    width: 56px;
    height: 56px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border-radius: 18px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 26px;
    box-shadow: 0 8px 24px rgba(102, 126, 234, 0.4);
  }

  .live-content {
    flex: 1;
  }

  .live-content h2 {
    margin: 0 0 4px 0;
    font-size: 20px;
    font-weight: 700;
    color: #1f2937;
  }

  .live-content p {
    margin: 0;
    font-size: 13px;
    color: #6b7280;
    font-weight: 500;
  }

  .live-badge {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 8px 16px;
    background: #dcfce7;
    border-radius: 12px;
    font-size: 13px;
    font-weight: 600;
    color: #16a34a;
  }

  .live-dot {
    width: 8px;
    height: 8px;
    background: #16a34a;
    border-radius: 50%;
    animation: pulse 2s infinite;
  }

  @keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
  }

  /* Room Buttons Grid */
  .room-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 16px;
    margin-bottom: 24px;
  }

  .room-card {
    background: white;
    border: 2px solid #e5e7eb;
    border-radius: 20px;
    padding: 20px;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    text-align: center;
  }

  .room-card:hover {
    border-color: #667eea;
    transform: translateY(-4px);
    box-shadow: 0 12px 32px rgba(102, 126, 234, 0.2);
  }

  .room-card.active {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border-color: transparent;
    color: white;
    box-shadow: 0 12px 32px rgba(102, 126, 234, 0.4);
  }

  .room-number {
    font-size: 18px;
    font-weight: 700;
    margin-bottom: 8px;
  }

  .room-service {
    font-size: 12px;
    opacity: 0.8;
    font-weight: 500;
    margin-bottom: 6px;
  }

  .room-status {
    font-size: 11px;
    padding: 4px 12px;
    background: rgba(16, 185, 129, 0.15);
    border-radius: 8px;
    display: inline-block;
    font-weight: 600;
    color: #16a34a;
  }

  .room-card.active .room-status {
    background: rgba(255, 255, 255, 0.2);
    color: white;
  }

  /* Main Content Grid */
  .content-grid {
    display: grid;
    grid-template-columns: 1fr 320px;
    gap: 24px;
    margin-bottom: 24px;
  }

  /* Patient Status */
  .patient-status {
    min-height: 180px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 12px;
    text-align: center;
    background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);
    border-radius: 24px;
    padding: 32px;
  }

  .patient-status .fa-clock {
    font-size: 48px;
    color: #9ca3af;
    opacity: 0.5;
  }

  .patient-status-text {
    font-size: 15px;
    color: #6b7280;
    font-weight: 500;
    line-height: 1.6;
  }

  /* Status Loket */
  .status-loket {
    display: flex;
    flex-direction: column;
    gap: 20px;
  }

  .status-icon-box {
    width: 64px;
    height: 64px;
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    border-radius: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 32px;
    box-shadow: 0 8px 24px rgba(16, 185, 129, 0.3);
  }

  .status-info {
    flex: 1;
  }

  .status-label {
    font-size: 13px;
    color: #6b7280;
    font-weight: 600;
    margin-bottom: 4px;
  }

  .status-value {
    font-size: 20px;
    font-weight: 800;
    color: #16a34a;
  }

  .status-value.closed {
    color: #dc2626;
  }

  .btn-status {
    width: 100%;
    padding: 16px;
    border: none;
    border-radius: 16px;
    font-size: 15px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.3s;
    background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
    color: white;
    box-shadow: 0 8px 24px rgba(239, 68, 68, 0.3);
  }

  .btn-status:hover {
    transform: translateY(-2px);
    box-shadow: 0 12px 32px rgba(239, 68, 68, 0.4);
  }

  .btn-status.open {
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    box-shadow: 0 8px 24px rgba(16, 185, 129, 0.3);
  }

  /* Bottom Section */
  .bottom-grid {
    display: grid;
    grid-template-columns: 1fr 320px;
    gap: 24px;
  }

  /* Queue Section */
  .queue-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
  }

  .queue-title {
    font-size: 18px;
    font-weight: 700;
    color: #1f2937;
  }

  .queue-count {
    font-size: 13px;
    padding: 6px 14px;
    background: #fef3c7;
    border-radius: 10px;
    color: #f59e0b;
    font-weight: 600;
  }

  .btn-call {
    width: 100%;
    padding: 20px;
    border: none;
    border-radius: 18px;
    font-size: 16px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.3s;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
    box-shadow: 0 8px 24px rgba(102, 126, 234, 0.4);
  }

  .btn-call:hover {
    transform: translateY(-2px);
    box-shadow: 0 12px 32px rgba(102, 126, 234, 0.5);
  }

  .btn-call:active {
    transform: translateY(0);
  }

  /* Statistics */
  .stats-title {
    font-size: 18px;
    font-weight: 700;
    color: #1f2937;
    margin-bottom: 20px;
  }

  .stat-item {
    display: flex;
    align-items: center;
    gap: 16px;
    padding: 16px;
    background: #f9fafb;
    border-radius: 16px;
    margin-bottom: 12px;
    transition: all 0.3s;
  }

  .stat-item:hover {
    background: #f3f4f6;
    transform: translateX(4px);
  }

  .stat-icon {
    width: 48px;
    height: 48px;
    border-radius: 14px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 22px;
  }

  .stat-icon.primary {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  }

  .stat-icon.success {
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
  }

  .stat-icon.warning {
    background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
  }

  .stat-icon.danger {
    background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
  }

  .stat-value {
    font-size: 24px;
    font-weight: 800;
  }

  .stat-value.primary { color: #667eea; }
  .stat-value.success { color: #10b981; }
  .stat-value.warning { color: #f59e0b; }
  .stat-value.danger { color: #ef4444; }

  @media (max-width: 1024px) {
    .content-grid,
    .bottom-grid {
      grid-template-columns: 1fr;
    }
    
    .container {
      padding-left: 20px;
    }
  }

  @media (max-width: 768px) {
    body {
      padding: 12px;
    }

    .sidebar-compact {
      top: 12px;
      left: 12px;
    }

    .container {
      padding-left: 0;
      padding-top: 70px;
    }

    .room-grid {
      grid-template-columns: repeat(2, 1fr);
    }

    .glass-card {
      padding: 20px;
    }
  }
</style>
</head>
<body>

<!-- Compact Sidebar -->
<div class="sidebar-compact">
  <div class="menu-toggle" id="menuToggle">
    <i class="fa-solid fa-bars"></i>
  </div>
  
  <div class="sidebar-menu" id="sidebarMenu">
    <div class="brand-compact">Ruang Coding Antrian</div>
    
    <div class="nav-section-compact">
      <div class="nav-label-compact">Loket Panggilan</div>
      <ul class="nav-list-compact">
        <li><a href="index.html" class="active"><span class="icon"><i class="fa-solid fa-volume-high"></i></span> Loket Panggilan</a></li>
        <li><a href="loket.html"><span class="icon"><i class="fa-solid fa-building-gear"></i></span> Menejemen Loket</a></li>
        <li><a href="antrian.html"><span class="icon"><i class="fa-solid fa-list"></i></span> Daftar Antrian</a></li>
        <li><a href="layanan.html"><span class="icon"><i class="fa-solid fa-server"></i></span> Menejemen Layanan</a></li>
        <li><a href="pengaturan.html"><span class="icon"><i class="fa-solid fa-gear"></i></span> Pengaturan</a></li>
        <li><a href="pengguna.html"><span class="icon"><i class="fa-solid fa-users"></i></span> Menejemen Pengguna</a></li>
      </ul>
    </div>
    
    <div class="nav-section-compact">
      <div class="nav-label-compact">Display Kiosk</div>
      <ul class="nav-list-compact">
        <li><a href="kiosk-ruang-tunggu.html"><span class="icon"><i class="fa-solid fa-tv"></i></span> Kiosk Ruang Tunggu</a></li>
        <li><a href="kiosk-cetak-antrian.html"><span class="icon"><i class="fa-solid fa-print"></i></span> Kiosk Cetak Antrian</a></li>
      </ul>
    </div>
  </div>
</div>

<!-- Main Container -->
<div class="container">
  
  <!-- Page Header -->
  <div class="page-header">
    <h1 class="page-title">Loket Panggilan Antrian</h1>
    <p class="page-subtitle">Sistem manajemen antrian terintegrasi dengan live update</p>
  </div>

  <!-- Live Status Card -->
  <div class="glass-card live-status-card">
    <div class="live-icon">
      <i class="fa-solid fa-volume-high"></i>
    </div>
    <div class="live-content">
      <h2>Loket Panggilan Antrian</h2>
      <p>Sistem manajemen antrian terintegrasi</p>
    </div>
    <div class="live-badge">
      <span class="live-dot"></span>
      Live Update
    </div>
  </div>

  <!-- Room Selection Grid -->
  <div class="room-grid">
    <div class="room-card active" data-room="1">
      <div class="room-number">Ruang 1</div>
      <div class="room-service">Pemeriksaan Umum</div>
      <span class="room-status">Aktif</span>
    </div>
    <div class="room-card" data-room="2">
      <div class="room-number">Ruang 2</div>
      <div class="room-service">Kesehatan Ibu dan Anak</div>
      <span class="room-status">Aktif</span>
    </div>
    <div class="room-card" data-room="3">
      <div class="room-number">Ruang 3</div>
      <div class="room-service">Kesehatan Gigi dan Mulut</div>
      <span class="room-status">Aktif</span>
    </div>
    <div class="room-card" data-room="4">
      <div class="room-number">Ruang 4</div>
      <div class="room-service">Keluarga Berencana (KB)</div>
      <span class="room-status">Aktif</span>
    </div>
  </div>

  <!-- Main Content Grid -->
  <div class="content-grid">
    
    <!-- Patient Status -->
    <div class="glass-card patient-status">
      <i class="fa-regular fa-clock"></i>
      <div class="patient-status-text">
        <strong>Tidak ada pasien yang sedang dipanggil</strong><br>
        Klik tombol "Panggil Antrian" untuk memulai.
      </div>
    </div>

    <!-- Status Loket -->
    <div class="glass-card status-loket">
      <div class="status-icon-box">
        <i class="fa-solid fa-check"></i>
      </div>
      <div class="status-info">
        <div class="status-label">Ruang 1 - Pemeriksaan Umum</div>
        <div class="status-value" id="statusValue">SEDANG BUKA</div>
      </div>
      <button class="btn-status" id="btnToggleStatus">
        Tutup Loket
      </button>
    </div>

  </div>

  <!-- Bottom Grid: Queue & Stats -->
  <div class="bottom-grid">
    
    <!-- Queue Section -->
    <div class="glass-card">
      <div class="queue-header">
        <div class="queue-title">Daftar Antrian</div>
        <div class="queue-count" id="queueCount">5 Menunggu</div>
      </div>
      <button class="btn-call" id="btnCall">
        <i class="fa-solid fa-volume-high"></i>
        Panggil Antrian Selanjutnya
      </button>
    </div>

    <!-- Statistics -->
    <div class="glass-card">
      <div class="stats-title">Statistik Hari Ini</div>
      
      <div class="stat-item">
        <div class="stat-icon primary">
          <i class="fa-regular fa-user"></i>
        </div>
        <div class="stat-value primary" id="statTotal">0</div>
      </div>

      <div class="stat-item">
        <div class="stat-icon success">
          <i class="fa-solid fa-check"></i>
        </div>
        <div class="stat-value success" id="statSelesai">0</div>
      </div>

      <div class="stat-item">
        <div class="stat-icon warning">
          <i class="fa-solid fa-hourglass-half"></i>
        </div>
        <div class="stat-value warning" id="statMenunggu">5</div>
      </div>

      <div class="stat-item">
        <div class="stat-icon danger">
          <i class="fa-solid fa-xmark"></i>
        </div>
        <div class="stat-value danger" id="statBatal">0</div>
      </div>
    </div>

  </div>

</div>

<script>
(function() {
  // Menu Toggle
  const menuToggle = document.getElementById('menuToggle');
  const sidebarMenu = document.getElementById('sidebarMenu');
  
  menuToggle.addEventListener('click', () => {
    sidebarMenu.classList.toggle('open');
  });

  // Close menu when clicking outside
  document.addEventListener('click', (e) => {
    if (!menuToggle.contains(e.target) && !sidebarMenu.contains(e.target)) {
      sidebarMenu.classList.remove('open');
    }
  });

  // Room Selection
  const roomCards = document.querySelectorAll('.room-card');
  roomCards.forEach(card => {
    card.addEventListener('click', () => {
      roomCards.forEach(c => c.classList.remove('active'));
      card.classList.add('active');
    });
  });

  // Status Toggle
  const btnToggleStatus = document.getElementById('btnToggleStatus');
  const statusValue = document.getElementById('statusValue');
  let isOpen = true;

  btnToggleStatus.addEventListener('click', () => {
    isOpen = !isOpen;
    if (isOpen) {
      statusValue.textContent = 'SEDANG BUKA';
      statusValue.classList.remove('closed');
      btnToggleStatus.textContent = 'Tutup Loket';
      btnToggleStatus.classList.remove('open');
    } else {
      statusValue.textContent = 'TUTUP SEMENTARA';
      statusValue.classList.add('closed');
      btnToggleStatus.textContent = 'Buka Loket';
      btnToggleStatus.classList.add('open');
    }
  });

  // Queue Management
  const btnCall = document.getElementById('btnCall');
  const queueCount = document.getElementById('queueCount');
  const statTotal = document.getElementById('statTotal');
  const statSelesai = document.getElementById('statSelesai');
  const statMenunggu = document.getElementById('statMenunggu');
  const statBatal = document.getElementById('statBatal');

  let total = 0;
  let selesai = 0;
  let menunggu = 5;
  let batal = 0;

  btnCall.addEventListener('click', () => {
    if (menunggu > 0) {
      menunggu--;
      selesai++;
      total++;
      
      updateStats();
      playCallSound();
      
      // Animation effect
      btnCall.style.transform = 'scale(0.95)';
      setTimeout(() => {
        btnCall.style.transform = '';
      }, 150);
    }
  });

  function updateStats() {
    statTotal.textContent = total;
    statSelesai.textContent = selesai;
    statMenunggu.textContent = menunggu;
    statBatal.textContent = batal;
    queueCount.textContent = menunggu + ' Menunggu';
  }

  function playCallSound() {
    const audioContext = new (window.AudioContext || window.webkitAudioContext)();
    const oscillator = audioContext.createOscillator();
    const gainNode = audioContext.createGain();
    
    oscillator.connect(gainNode);
    gainNode.connect(audioContext.destination);
    
    oscillator.frequency.value = 800;
    oscillator.type = 'sine';
    
    gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
    gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);
    
    oscillator.start(audioContext.currentTime);
    oscillator.stop(audioContext.currentTime + 0.5);
  }

  updateStats();
})();
</script>

</body>
</html>