jadi saya itu ingin membuat web app dan responsif


kita bisa lihat dulu batudi sebelah kiri di sini ada navigation yang di mana Di sini kita bisa lihat ada loket pemanggilan ada manajemen loket daftar antrian manajemen layanan pengaturan manajemen pengguna Nah di sini ada fitur utamanya ada kios ruang tunggu atau display untuk ruang tunggu ya di sini ada dia cetak antrian di eBay layar untuk menceraikan antrian kita awal dari pengaturan dulu Nah di sini cukup simple ya di sini ada logo nama instansi alamat dan nomor telepon Nah di sini logo instansinya Apa nama instansinya apa alamatnya di mana nomor teleponnya apa Nah kebetulan di sini saya mencontohkan dengan inspirasi Rumah Sakit ya Jadi gimana karena Project Andrean itu banyak digunakan oleh rumah sakit atau puskesmas klinik Nah mungkin ada sekolahan yang membutuhkan sistem Project sistem antrian Ini atau event ya yang mungkin membutuhkan sistem seperti ini itu bisa teman-teman oke itu saja di bagian pengaturan ini kita langsung saja di bagian manajemen layanan nah di manajemen layanan ini kita bisa lihat ada 4 data yang sudah saya isi dari ini sebagai contoh saja sebenarnya teman-teman juga makan lagi layanan-layanan Yang itu rumah sakit itu pasti banyak ya untuk layanannya tidak hanya 4 sini saja tapi kebetulan ini aja agar teman-teman lebih bagaimana kita contoh lain di rumah sakit mempunyai 4 layanan ya di sini ada pemeriksaan umum di sini ada kesehatan ibu dan anak di sini ada keluarga berencana di sini ada kesehatan gigi dan mulut nah terus di bagian prefik ini apa sih Bang traffic ini itu huruf awal dari kode nomor antriannya contoh di sini kan ada a b c dan d nah tentu ini teman-teman bisa maka a001 seperti itu nomor antriannya a002 dan seterusnya kalaupun B juga seperti itu b001 b003 B 005 dan seterusnya nah ini ada jumlah gigi angka jumlah digit angka ini juga yang menentukan Berapa nomor angka pada nomor antriannya di sini 3 digit berarti nanti yang ditampilkan itu a003 kan ada tiga a004 Nah itu akan ada 3 kalau 2 berarti a 02 gitu ya a01 a04 Nah kalau satu berarti A1 itu A2 A3 dan seterusnya mungkin teman-teman nanti kita akan Jelaskan di video menggunakan handphone struknya nanti bagaimana ketika dicetak Oke kita langsung lanjut di bagian manajemen loket nah di manajemen loket ini kita bisa membuat memodifikasi atau menghapus loket-loket kita juga bisa menonaktifkan atau mengaktifkan loket-loket tertentu saja nah dalam satu layanan itu bisa memiliki banyak loket atau Memiliki banyak ruangan kita-kita ruang aja ya Nah di sini ada ruangan satu ruangan dua ruang tiga ruang empat yang di mana ruang 1 itu adalah layanan pemeriksaan Umum satu layanan itu bisa memiliki banyak ruang atau banyak loket tapi kebetulan di sini saya mensimulasikan saja satu layanan satu ya Satu layanan satu terus di sini juga kita bisa menonaktifkan kita bisa mengaktifkan jadi ketika tidak diaktifkan Nah nanti di display ruang tunggu itu yang menunggu bisa mengetahui bahwa ruang 2 itu sedang ditutup atau sedang buka ya Oke kita lanjut di daftar antrian nah di daftar antena ini datanya masih kosong karena belum kita isi ada filter kita bisa melihat data berdasarkan filter yang kita tentukan di sini ada semua layanan kita bisa melihat antrian yang pemeriksaan umum saja dan seterusnya bagian status pun begitu bagian tanggal juga begitu tanggal berapa kita ingin melihat antrian atau riwayat antriannya tapi ketika kita mengunjungi halaman antrian Ini daftar antrian default-nya itu akan segitu saja kita langsung lanjut ke loket pemanggilan Nah di sini tentu salah satu fitur utamanya juga selain kios ruang tunggu dan kiat cetakan riannya di sini ada ruang 1 ruang 2 ruang 3 ruang 4 dan seterusnya jika memiliki loket banyak di sini itu sebenarnya tugasnya itu sebagai operator kita bisa lihat dulu kembali lagi di manajemen pengguna Karena ini belum kita Jelaskan Nah di sini teman-teman bisa lihat ada admin petugas karena di sini perannya admin di sini ada operator ada dua peran nah jika operator maka tugas loketnya itu dia loket berapa misal dia ditugaskan untuk ruang 1 maka dia nanti akan memanage atau mengatur ya antrian di dalam ruang satu tersebut ketika memanggil melayani Nah jadi tugas-tugasnya masing-masing ya di sini ada seterusnya nah semoga teman-teman apa yang dimaksud dari tugas loket ini mungkin nanti kita akan coba ya login sebagai petugas ketika login petugas maka yang ditampilkan itu hanya ruang atau loket yang ditugaskan Nah nanti ketika kita masuk ke loket panggilan karena ini yang login admin maka semua ditampilkan tapi ketika kita login sebagai petugas Nah makanya di sini ada manajemen pengguna di bagian nanti contoh kita login menggunakan petugas 1 maka yang ditampilkan nanti hanya ruang satu saja karena bertanggung jawab hanya dalam ruang satu saja atau loket satu ya di sini juga kita bisa lihat statistik hari ini ada total pasien selesai yang menunggu berapa yang Mbak dibatalkan itu berapa di sini tidak bisa ditekan karena daftar antriannya masih kosong di sini juga kita bisa menutup loket ketika tutup loket buttonnya tidak bisa ditekan karena ditutup terus bagian di sebelah kios ini fitur utamanya ini apa sih itu kan yang ditampilkan kita bisa lihat di sini ini untuk display antriannya yang biasanya itu yang layar layar TV ya atau layar monitor yang lumayan besar yang biasanya ditampilkan di depan ruang tunggu nah di depan ruang tunggu jadi penunggu itu bisa melihat antriannya nomor berapa kapan dipanggil gitu ya Nah di sini juga ada button untuk full screen yang di mana seperti ini Nah di sini ada warnanya juga jadi statusnya berbeda maka warnanya pun berubah contoh desa Jarwo 1 ketika ruang 1 ini itu kita tutup maka di sini juga akan tertutup ini datanya Real Time ya menggunakan left fire disinilah laravel 12 LED player Nah di sini akan relay dan ketika kita buka loket lagi di sini akan menurut kebuka juga Nah di sini karena belum ada panggilan jadi seperti ini ketika dilayani nanti statusnya warna hijau juga warna hijau buat enggak dipanggil warna biru seperti itu terus di bagian cetak antriannya Bagaimana Nah di sini kita bisa lihat Nah di sini karena layanannya ada 4 ya karena di sini ada empat nah pemeriksaan umum kesehatan ibu dan anak di sini ada kesehatan gigi dan kita Keluarga Berencana yang sebelumnya telah kita buat semua di eh manajemen layanan Email Jika manajemen layanan itu tidak diaktifkan maka di sini juga tidak ditampilkan Nah nanti untuk fitur-fitur ini coba di kamera handphone agar teman-teman udah di sini kita tinggal tekan saja di sini nanti akan mencari printer bluetooth-nya pT 02 Nah nanti kita pair saja ketika di pair maka ketika sudah tersambung nanti ketika pasien menekan salah satu dari tombol ini akan keluar stroke antriannya berdasarkan kode atau nomor antrian pada layanannya oke nah kita akan mencoba cetak antriannya Nah kan kebanyakan memang layar sentuh ya untuk dinilai jauh untuk antriannya ibarat ee contoh saja bagian atau yang ingin mencetak struk itu pemilik itu ada nama instansinya dan nomor antrian dan di sini ada qr-nya dan di atas untuk melihat status antriannya nah ketika di scan nanti pasien atau yang menunggu dapat melihat status antriannya mungkin ini kita terakhir kita akan coba scan qr-nya kita akan melihat itu apa gitu ya Nah sekarang teman-teman di sini itu yang segera dipanggil sekarang sudah ada datanya nomor antrian Ini ya nomor antrian Ini kenapa cuman satu karena datanya yang baru kita cetak hanya satu nah gitu ya bisa lihat di loket pemanggilannya di sini tentu akan menambah satu coba kita Panggil yang kita Panggil jadi seperti itu ketika dipanggil mengeluarkan suara memanggil nomor antrian berdasarkan loket-loket atau ruangnya yang disebutkan Nah contoh di sini ada butter lagi ada panggil lagi layani dan batalkan contoh kita panggil lagi jadi di sini nanti display-nya berbeda ini untuk monitor di ruang tunggu nah ketika kita klik layani maka di sini akan berubah menjadi hijau dan ada status dilayani nah coba kita akan cetak struk satu lagi dengan layanan yang sama maka di sini akan tampil segera dipanggil Karena setelah pasien ini tidak akan dipakai material ini mungkin teman-teman oke di sini kita akan mencoba scan QR yang ada di youtube-nya tetap kita menggunakan nomor 001 ini maka akan langsung diarahkan ke browser ke halaman di mana kita dapat mengetahui status antrian kita di sini ada nomor antrian kita dan seterusnya menunggu dan di bawah ini antrian yang sedang dilayani kita mengetahui Oh yang sudah dilayani itu a001 berarti setelah ini kita akan dipanggil Nah jadi seperti itu Nah contoh yang satu ini coba kita klik selesai nah di sini akan menghilang dan ketika kita Panggil nomor 2 a002 di bawah ini ada perintah silakan menuju ke ruang 1 nah ini datanya Real Time tanpa di reload di sini ada keterangan ini juga setiap 5 detik layar apa ada lainnya akan di update maka statusnya dilayani ketika kita selesai maka statusnya berubah menjadi selesai dan untuk data yang sudah dilayani itu tidak ditampilkan kalau antrian statusnya tidak selesai maka data-data yang kalau status antriannya sudah selesai



## ğŸ¥ **Penjelasan Lengkap Sistem Aplikasi Antrian Digital**

### 1. **Deskripsi Umum Aplikasi**

Sistem Antrian Digital ini merupakan aplikasi berbasis web yang dikembangkan menggunakan **Laravel 12** sebagai backend utama. Tujuannya adalah untuk mempermudah proses pengelolaan dan pemanggilan nomor antrian secara **real-time** dan **terintegrasi** antara beberapa bagian seperti loket pelayanan, ruang tunggu, serta kios pencetak nomor antrian.
Aplikasi ini bersifat **fleksibel** dan dapat digunakan di berbagai instansi seperti **rumah sakit, puskesmas, bank, sekolah (misalnya saat PPDB), dan event publik lainnya.**

Dengan sistem ini, proses antrian menjadi lebih **teratur, efisien, dan transparan** karena pengguna (pasien, nasabah, atau siswa) dapat melihat status antriannya langsung melalui layar display atau melalui **QR code** yang terdapat pada struk antrian.

---

### 2. **Fitur Utama Aplikasi**

#### a. **Dashboard Navigasi**

Di sisi kiri aplikasi terdapat *navigation panel* dengan menu utama:

* **Loket Pemanggilan**
* **Manajemen Loket**
* **Daftar Antrian**
* **Manajemen Layanan**
* **Pengaturan Sistem**
* **Manajemen Pengguna**

Fitur-fitur ini membentuk sistem antrian yang terintegrasi antara admin, operator loket, dan pengguna.

---

#### b. **Pengaturan Sistem (Settings)**

Pada bagian ini, admin dapat melakukan konfigurasi dasar seperti:

* Mengatur **logo instansi**
* Menentukan **nama instansi**
* Menambahkan **alamat dan nomor telepon**

Contohnya, jika sistem digunakan di **rumah sakit**, maka diatur dengan identitas rumah sakit tersebut.
Namun sistem ini tetap fleksibel â€” bisa dipakai untuk **puskesmas, klinik, sekolah, hingga event besar.**

---

#### c. **Manajemen Layanan**

Menu ini berfungsi untuk menambah, mengedit, atau menghapus **layanan** yang tersedia dalam instansi.
Contoh di rumah sakit:

1. Pemeriksaan Umum
2. Kesehatan Ibu dan Anak
3. Keluarga Berencana
4. Kesehatan Gigi dan Mulut

Setiap layanan memiliki:

* **Prefix (Huruf Awal)** â†’ Misalnya `A` untuk pemeriksaan umum, `B` untuk KIA, dst.
* **Jumlah Digit Angka** â†’ Misalnya `3` untuk format `A001`, `A002`, dst.

Prefix dan digit ini digunakan untuk membedakan kode antrian tiap layanan agar sistem tetap rapi dan mudah dikenali.

---

#### d. **Manajemen Loket**

Loket adalah tempat pelayanan dari masing-masing layanan.
Dalam sistem ini, **satu layanan bisa memiliki banyak loket**.
Contohnya:

* Ruang 1 â†’ Pemeriksaan Umum
* Ruang 2 â†’ Kesehatan Gigi
* Ruang 3 â†’ KIA

Admin dapat:

* Menambahkan atau menghapus loket
* Mengaktifkan atau menonaktifkan loket tertentu
* Memberi tanda â€œTutupâ€ pada loket jika tidak beroperasi

Ketika loket dinonaktifkan, maka **display ruang tunggu** otomatis akan menampilkan bahwa loket tersebut sedang tutup.

---

#### e. **Daftar Antrian**

Menu ini menampilkan semua **data antrian yang sedang berlangsung maupun yang sudah selesai.**
Fitur ini dilengkapi dengan:

* **Filter berdasarkan layanan**
* **Filter status (menunggu, dilayani, selesai, dibatalkan)**
* **Filter tanggal**

Data ini berguna untuk **monitoring harian dan rekap riwayat antrian.**

---

#### f. **Loket Pemanggilan**

Inilah fitur utama dari sistem.
Setiap loket memiliki **operator** yang bertugas:

* Memanggil nomor antrian
* Melayani pasien
* Menyelesaikan layanan
* Membatalkan jika diperlukan

Operator hanya bisa mengakses **loket yang ditugaskan** kepadanya.
Sedangkan **admin** bisa melihat semua loket.

Di tampilan loket pemanggilan, terdapat:

* Statistik jumlah antrian hari ini
* Jumlah yang sudah dilayani
* Jumlah yang dibatalkan
* Tombol **panggil, layani, tutup, dan selesai**

Ketika tombol â€œpanggilâ€ ditekan, sistem akan mengirimkan notifikasi real-time ke **layar display ruang tunggu**, dan mengeluarkan **suara panggilan otomatis.**

---

#### g. **Kios Antrian & Cetak Struk**

Bagian ini digunakan oleh pengunjung untuk **mengambil nomor antrian.**
Biasanya dipasang di area depan, menggunakan **layar sentuh (touchscreen)**.

Tiap layanan ditampilkan dalam bentuk tombol, misalnya:

* Pemeriksaan Umum
* Kesehatan Gigi
* KIA
* KB

Ketika pengguna menekan salah satu tombol, sistem akan:

1. Mengirimkan data ke server Laravel.
2. Mencetak **struk antrian** menggunakan **printer Bluetooth (PT-02)**.
3. Struk berisi:

   * Nama instansi
   * Nomor antrian
   * Jenis layanan
   * QR Code status antrian

QR Code ini bisa dipindai oleh pengguna untuk **melihat posisi antriannya secara real-time**.

---

#### h. **Display Ruang Tunggu (TV Monitor)**

Fitur ini menampilkan **status antrian secara real-time** di layar besar (TV/monitor).
Biasanya diletakkan di area tunggu agar pengguna bisa melihat nomor berapa yang sedang dipanggil dan loket mana yang aktif.

Ciri-ciri display:

* Warna berbeda berdasarkan status:

  * **Biru** â†’ Sedang menunggu
  * **Hijau** â†’ Sedang dilayani
  * **Abu** â†’ Selesai
  * **Merah** â†’ Dibatalkan
* Dapat ditampilkan dalam **mode full screen**
* **Real-time update** menggunakan **Laravel Echo + Pusher/Livewire**

Ketika loket ditutup, display akan menampilkan status â€œTutupâ€ secara otomatis tanpa reload.

---

### 3. **Alur Penggunaan Aplikasi**

Berikut urutan kerja sistem:

1. **Admin mengatur sistem**
   Menambahkan instansi, layanan, dan loket.

2. **Petugas/operator login**
   Tiap operator hanya mengelola loket tertentu.

3. **Pengunjung mencetak antrian**
   Menggunakan kios touchscreen â†’ sistem mencetak struk berisi QR code.

4. **Display ruang tunggu aktif**
   Menampilkan antrian yang sedang berjalan.

5. **Petugas memanggil nomor antrian**
   Sistem mengumumkan nomor dan loketnya (dengan suara).

6. **Pasien dilayani dan status diperbarui real-time.**
   Warna di display berubah sesuai status (menunggu â†’ dilayani â†’ selesai).

7. **Pengunjung bisa scan QR code**
   Untuk memantau posisi antrian dari HP.

---

### 4. **Teknologi yang Digunakan**

* **Framework:** Laravel 12
* **Database:** MySQL / MariaDB
* **Realtime Communication:** Laravel Echo / Pusher / Livewire
* **Frontend:** Blade / Vue.js / TailwindCSS
* **Bluetooth Printing:** PT-02 thermal printer
* **Hosting Support:** VPS / Local server
* **API Ready:** Bisa diintegrasikan dengan IoT atau mesin tiket fisik

---

### 5. **Manfaat dan Keunggulan**

âœ… Mempercepat pelayanan publik
âœ… Mengurangi antrian fisik dan kerumunan
âœ… Transparansi status antrian
âœ… Dapat dipantau real-time
âœ… Dapat digunakan lintas instansi
âœ… Desain responsif dan siap dikembangkan ke sistem IoT



---

## ğŸ§© **Struktur Database Sistem Antrian Digital (Laravel)**

### ğŸ—‚ï¸ 1. **Tabel `users`**

Menyimpan data akun pengguna, baik **admin** maupun **operator** (petugas loket).
Laravel default sudah punya ini, tapi kita tambahkan beberapa kolom tambahan.

| Kolom      | Tipe Data                     | Keterangan                             |
| ---------- | ----------------------------- | -------------------------------------- |
| id         | bigIncrements                 | Primary Key                            |
| name       | string                        | Nama lengkap pengguna                  |
| username   | string                        | Username login                         |
| email      | string                        | Email pengguna (optional)              |
| password   | string                        | Password terenkripsi                   |
| role       | enum('admin', 'operator')     | Role pengguna                          |
| loket_id   | unsignedBigInteger (nullable) | Loket yang ditugaskan (untuk operator) |
| status     | enum('aktif', 'nonaktif')     | Status akun                            |
| created_at | timestamp                     | Waktu dibuat                           |
| updated_at | timestamp                     | Waktu diubah                           |

ğŸ”— Relasi:

* `loket_id` â†’ foreign key ke tabel `lokets`

---

### ğŸ¢ 2. **Tabel `settings` (pengaturan sistem)**

Berisi informasi instansi yang menggunakan sistem.

| Kolom         | Tipe Data       | Keterangan                           |
| ------------- | --------------- | ------------------------------------ |
| id            | bigIncrements   | Primary Key                          |
| logo          | string          | Path/logo instansi                   |
| nama_instansi | string          | Nama instansi (misal: RSUD Sukamaju) |
| alamat        | string          | Alamat instansi                      |
| telepon       | string          | Nomor telepon                        |
| deskripsi     | text (nullable) | Deskripsi singkat                    |
| created_at    | timestamp       |                                      |
| updated_at    | timestamp       |                                      |

---

### âš™ï¸ 3. **Tabel `layanans` (manajemen layanan)**

Mendefinisikan jenis layanan (misalnya pemeriksaan umum, KIA, KB, dll.)

| Kolom        | Tipe Data                 | Keterangan                                    |
| ------------ | ------------------------- | --------------------------------------------- |
| id           | bigIncrements             | Primary Key                                   |
| nama_layanan | string                    | Nama layanan                                  |
| prefix       | string(5)                 | Huruf awal nomor antrian (contoh: A, B, C)    |
| digit        | tinyInteger               | Jumlah digit angka antrian (contoh: 3 â†’ A001) |
| status       | enum('aktif', 'nonaktif') | Apakah layanan ini aktif                      |
| created_at   | timestamp                 |                                               |
| updated_at   | timestamp                 |                                               |

---

### ğŸ’º 4. **Tabel `lokets` (manajemen loket)**

Loket/ruangan tempat layanan dilakukan.

| Kolom      | Tipe Data              | Keterangan                           |
| ---------- | ---------------------- | ------------------------------------ |
| id         | bigIncrements          | Primary Key                          |
| nama_loket | string                 | Nama loket (misal: Ruang 1, Ruang 2) |
| layanan_id | unsignedBigInteger     | Layanan yang dilayani                |
| status     | enum('aktif', 'tutup') | Status loket                         |
| created_at | timestamp              |                                      |
| updated_at | timestamp              |                                      |

ğŸ”— Relasi:

* `layanan_id` â†’ foreign key ke `layanans`

---

### ğŸ§¾ 5. **Tabel `antrians` (data antrian utama)**

Berisi seluruh data antrian yang masuk ke sistem.

| Kolom         | Tipe Data                                                     | Keterangan                          |
| ------------- | ------------------------------------------------------------- | ----------------------------------- |
| id            | bigIncrements                                                 | Primary Key                         |
| kode_antrian  | string                                                        | Nomor antrian lengkap (misal: A001) |
| layanan_id    | unsignedBigInteger                                            | Layanan tujuan                      |
| loket_id      | unsignedBigInteger (nullable)                                 | Loket yang menangani                |
| status        | enum('menunggu', 'dipanggil', 'dilayani', 'selesai', 'batal') | Status antrian                      |
| waktu_ambil   | datetime                                                      | Waktu cetak nomor antrian           |
| waktu_panggil | datetime (nullable)                                           | Waktu mulai dipanggil               |
| waktu_selesai | datetime (nullable)                                           | Waktu selesai pelayanan             |
| qr_code       | string (nullable)                                             | Path atau kode unik QR              |
| created_at    | timestamp                                                     |                                     |
| updated_at    | timestamp                                                     |                                     |

ğŸ”— Relasi:

* `layanan_id` â†’ ke `layanans`
* `loket_id` â†’ ke `lokets`

---

### ğŸ“¢ 6. **Tabel `display_logs` (untuk realtime display)**

Menyimpan log pemanggilan antrian yang muncul di layar ruang tunggu.

| Kolom         | Tipe Data                          | Keterangan                                                          |
| ------------- | ---------------------------------- | ------------------------------------------------------------------- |
| id            | bigIncrements                      | Primary Key                                                         |
| antrian_id    | unsignedBigInteger                 | Nomor antrian yang dipanggil                                        |
| loket_id      | unsignedBigInteger                 | Loket yang memanggil                                                |
| pesan_display | string                             | Pesan yang muncul di layar (misal: "Nomor A001 silakan ke Ruang 1") |
| status_warna  | enum('biru','hijau','abu','merah') | Warna tampilan display                                              |
| waktu_tampil  | datetime                           | Waktu ditampilkan                                                   |
| created_at    | timestamp                          |                                                                     |
| updated_at    | timestamp                          |                                                                     |

ğŸ”— Relasi:

* `antrian_id` â†’ ke `antrians`
* `loket_id` â†’ ke `lokets`

---

### ğŸ“Š 7. **Tabel `statistik_harian` (opsional, untuk laporan)**

Untuk menyimpan rekap jumlah antrian harian per layanan.

| Kolom          | Tipe Data          | Keterangan              |
| -------------- | ------------------ | ----------------------- |
| id             | bigIncrements      | Primary Key             |
| tanggal        | date               | Tanggal statistik       |
| layanan_id     | unsignedBigInteger | Layanan terkait         |
| total_menunggu | integer            | Jumlah antrian menunggu |
| total_dilayani | integer            | Jumlah yang dilayani    |
| total_selesai  | integer            | Jumlah yang selesai     |
| total_batal    | integer            | Jumlah dibatalkan       |
| created_at     | timestamp          |                         |
| updated_at     | timestamp          |                         |

ğŸ”— Relasi:

* `layanan_id` â†’ ke `layanans`

---

### ğŸ“± 8. **Tabel `device_printers` (opsional - printer Bluetooth)**

Untuk menyimpan perangkat printer yang terhubung ke sistem.

| Kolom             | Tipe Data                  | Keterangan                  |
| ----------------- | -------------------------- | --------------------------- |
| id                | bigIncrements              | Primary Key                 |
| nama_device       | string                     | Nama printer (misal: PT-02) |
| mac_address       | string                     | Alamat MAC printer          |
| status            | enum('tersambung','putus') | Status koneksi              |
| last_connected_at | datetime (nullable)        | Waktu terakhir tersambung   |
| created_at        | timestamp                  |                             |
| updated_at        | timestamp                  |                             |

---

### ğŸ§ 9. **Tabel `activity_logs` (jejak aktivitas pengguna)**

Untuk keamanan dan audit, melacak semua aktivitas pengguna.

| Kolom      | Tipe Data          | Keterangan                                            |
| ---------- | ------------------ | ----------------------------------------------------- |
| id         | bigIncrements      | Primary Key                                           |
| user_id    | unsignedBigInteger | ID pengguna yang melakukan aksi                       |
| aktivitas  | string             | Deskripsi aktivitas (misal: â€œmemanggil antrian A001â€) |
| waktu      | datetime           | Waktu aktivitas                                       |
| ip_address | string (nullable)  | Alamat IP pengguna                                    |
| created_at | timestamp          |                                                       |

ğŸ”— Relasi:

* `user_id` â†’ ke `users`

---

## ğŸ”— **Relasi Antar Tabel (ERD Sederhana)**

```
users (role=admin/operator)
    â†³ belongsTo lokets

lokets
    â†³ belongsTo layanans
    â†³ hasMany antrians
    â†³ hasMany display_logs

layanans
    â†³ hasMany lokets
    â†³ hasMany antrians

antrians
    â†³ belongsTo layanans
    â†³ belongsTo lokets
    â†³ hasMany display_logs

display_logs
    â†³ belongsTo antrians

settings â†’ hanya 1 record global
```

---

## ğŸ§  **Kelebihan Struktur Ini**

âœ… Siap digunakan di Laravel (tinggal buat migration)
âœ… Realtime-ready (mendukung Laravel Echo / Pusher)
âœ… Bisa dikembangkan ke versi IoT (pakai sensor tombol cetak fisik)
âœ… Ada log & statistik untuk laporan sekolah / rumah sakit
âœ… Fleksibel untuk berbagai instansi (RS, sekolah, event, bank)


antrianmarhas/
â”‚
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ Console/
â”‚   â”œâ”€â”€ Exceptions/
â”‚   â”œâ”€â”€ Http/
â”‚   â”‚   â”œâ”€â”€ Controllers/
â”‚   â”‚   â”‚   â”œâ”€â”€ Admin/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ DashboardController.php
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ LayananController.php
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ LoketController.php
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ PenggunaController.php
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ PengaturanController.php
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ StatistikController.php
â”‚   â”‚   â”‚   â”œâ”€â”€ Petugas/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ LoketPetugasController.php
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ AuthPetugasController.php
â”‚   â”‚   â”‚   â”œâ”€â”€ KiosController.php
â”‚   â”‚   â”‚   â”œâ”€â”€ DisplayController.php
â”‚   â”‚   â”‚   â”œâ”€â”€ AntrianController.php
â”‚   â”‚   â”‚   â””â”€â”€ AuthController.php
â”‚   â”‚   â”œâ”€â”€ Middleware/
â”‚   â”‚   â”œâ”€â”€ Requests/
â”‚   â”‚   â””â”€â”€ Kernel.php
â”‚   â”‚
â”‚   â”œâ”€â”€ Models/
â”‚   â”‚   â”œâ”€â”€ Antrian.php
â”‚   â”‚   â”œâ”€â”€ Layanan.php
â”‚   â”‚   â”œâ”€â”€ Loket.php
â”‚   â”‚   â”œâ”€â”€ Pengaturan.php
â”‚   â”‚   â”œâ”€â”€ Pengguna.php
â”‚   â”‚   â””â”€â”€ Role.php
â”‚   â”‚
â”‚   â”œâ”€â”€ Providers/
â”‚   â””â”€â”€ Events/
â”‚       â”œâ”€â”€ AntrianDipanggil.php
â”‚       â””â”€â”€ LoketDibukaDitutup.php
â”‚
â”œâ”€â”€ bootstrap/
â”‚
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ app.php
â”‚   â”œâ”€â”€ broadcasting.php
â”‚   â”œâ”€â”€ database.php
â”‚   â”œâ”€â”€ echo.php
â”‚   â”œâ”€â”€ queue.php
â”‚   â”œâ”€â”€ services.php
â”‚   â””â”€â”€ printing.php   <-- konfigurasi printer Bluetooth / Thermal
â”‚
â”œâ”€â”€ database/
â”‚   â”œâ”€â”€ factories/
â”‚   â”œâ”€â”€ migrations/
â”‚   â”‚   â”œâ”€â”€ 2025_01_01_create_layanans_table.php
â”‚   â”‚   â”œâ”€â”€ 2025_01_02_create_lokets_table.php
â”‚   â”‚   â”œâ”€â”€ 2025_01_03_create_antrians_table.php
â”‚   â”‚   â”œâ”€â”€ 2025_01_04_create_pengguna_table.php
â”‚   â”‚   â”œâ”€â”€ 2025_01_05_create_roles_table.php
â”‚   â”‚   â””â”€â”€ 2025_01_06_create_pengaturan_table.php
â”‚   â”œâ”€â”€ seeders/
â”‚   â”‚   â”œâ”€â”€ RoleSeeder.php
â”‚   â”‚   â”œâ”€â”€ UserSeeder.php
â”‚   â”‚   â”œâ”€â”€ LayananSeeder.php
â”‚   â”‚   â””â”€â”€ LoketSeeder.php
â”‚
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ images/
â”‚   â”‚   â””â”€â”€ logo/
â”‚   â”œâ”€â”€ css/
â”‚   â”œâ”€â”€ js/
â”‚   â”œâ”€â”€ storage/
â”‚   â””â”€â”€ index.php
â”‚
â”œâ”€â”€ resources/
â”‚   â”œâ”€â”€ views/
â”‚   â”‚   â”œâ”€â”€ layouts/
â”‚   â”‚   â”‚   â”œâ”€â”€ app.blade.php
â”‚   â”‚   â”‚   â””â”€â”€ auth.blade.php
â”‚   â”‚   â”œâ”€â”€ admin/
â”‚   â”‚   â”‚   â”œâ”€â”€ dashboard.blade.php
â”‚   â”‚   â”‚   â”œâ”€â”€ layanan/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ index.blade.php
â”‚   â”‚   â”‚   â”œâ”€â”€ loket/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ index.blade.php
â”‚   â”‚   â”‚   â”œâ”€â”€ pengguna/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ index.blade.php
â”‚   â”‚   â”‚   â”œâ”€â”€ pengaturan/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ index.blade.php
â”‚   â”‚   â”‚   â””â”€â”€ statistik/
â”‚   â”‚   â”‚       â””â”€â”€ index.blade.php
â”‚   â”‚   â”œâ”€â”€ petugas/
â”‚   â”‚   â”‚   â””â”€â”€ loket.blade.php
â”‚   â”‚   â”œâ”€â”€ kios/
â”‚   â”‚   â”‚   â””â”€â”€ index.blade.php
â”‚   â”‚   â”œâ”€â”€ display/
â”‚   â”‚   â”‚   â””â”€â”€ index.blade.php
â”‚   â”‚   â””â”€â”€ auth/
â”‚   â”‚       â”œâ”€â”€ login.blade.php
â”‚   â”‚       â””â”€â”€ register.blade.php
â”‚   â”œâ”€â”€ css/
â”‚   â””â”€â”€ js/
â”‚
â”œâ”€â”€ routes/
â”‚   â”œâ”€â”€ web.php
â”‚   â”œâ”€â”€ api.php
â”‚   â”œâ”€â”€ admin.php
â”‚   â””â”€â”€ petugas.php
â”‚
â”œâ”€â”€ storage/
â”‚   â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ framework/
â”‚   â””â”€â”€ logs/
â”‚
â”œâ”€â”€ tests/
â”‚
â”œâ”€â”€ package.json
â”œâ”€â”€ composer.json
â”œâ”€â”€ .env
â””â”€â”€ artisan


---

# ğŸ§­ PENJELASAN ALUR KERJA SISTEM ANTRIAN DIGITAL (FULL FLOW)

---

## ğŸ 1ï¸âƒ£ Login & Akses Role

Sebelum sistem digunakan, ada dua tipe pengguna:

* ğŸ‘‘ **Admin** â†’ mengelola layanan, loket, pengaturan, dan pengguna.
* ğŸ‘· **Petugas (Operator)** â†’ bertugas di masing-masing loket untuk memanggil nomor antrian.

ğŸ“ **Flow-nya:**

1. Pengguna membuka `/login`
2. Sistem mengecek kredensial (email & password)
3. Jika role = admin â†’ diarahkan ke `/admin/dashboard`
4. Jika role = petugas â†’ diarahkan ke `/petugas/loket`
5. Session dan token Laravel Sanctum aktif, menyimpan data user & role

---

## ğŸ§° 2ï¸âƒ£ Pengaturan Awal oleh Admin

Admin menyiapkan data awal agar sistem bisa berjalan.

**Halaman: `/admin/pengaturan`**

ğŸ§© Pengaturan yang diisi:

* Logo instansi
* Nama instansi
* Alamat & nomor telepon
* Template struk (opsional)

â†’ Data disimpan di tabel `pengaturans`.

---

## ğŸ§¾ 3ï¸âƒ£ Membuat Layanan (Service Management)

**Halaman: `/admin/layanan`**

Admin menentukan jenis layanan yang tersedia, contohnya:

| Nama Layanan               | Prefix | Digit | Status |
| -------------------------- | ------ | ----- | ------ |
| Pemeriksaan Umum           | A      | 3     | Aktif  |
| Kesehatan Ibu & Anak (KIA) | B      | 3     | Aktif  |
| Keluarga Berencana (KB)    | C      | 3     | Aktif  |
| Kesehatan Gigi & Mulut     | D      | 3     | Aktif  |

ğŸ“ Data tersimpan di tabel `layanans`.

---

## ğŸ¢ 4ï¸âƒ£ Membuat Loket / Ruangan

**Halaman: `/admin/loket`**

Admin dapat membuat beberapa loket untuk tiap layanan.

Contoh:

| Nama Loket | Layanan            | Status |
| ---------- | ------------------ | ------ |
| Ruang 1    | Pemeriksaan Umum   | Aktif  |
| Ruang 2    | Kesehatan Ibu Anak | Tutup  |
| Ruang 3    | Keluarga Berencana | Aktif  |
| Ruang 4    | Kesehatan Gigi     | Aktif  |

â†’ Tersimpan di tabel `lokets`.

ğŸ’¡ Setiap loket bisa ditugaskan ke petugas tertentu (melalui tabel `pengguna` dengan foreign key `loket_id`).

---

## ğŸ‘¨â€ğŸ’¼ 5ï¸âƒ£ Menambahkan Pengguna

**Halaman: `/admin/pengguna`**

Admin bisa menambah:

* Role: admin / petugas
* Loket yang ditugaskan (jika petugas)

ğŸ“ Data masuk ke tabel `penggunas` dan `roles`.

---

## ğŸ’» 6ï¸âƒ£ Tampilan Kios (Layar Ambil Nomor)

**Halaman: `/kios`**
Biasanya ditampilkan di layar sentuh / tablet.

ğŸ“ Di sini pengguna (pasien / pengunjung) cukup menekan tombol **layanan yang diinginkan**:

```
[ Pemeriksaan Umum ]
[ Kesehatan Ibu & Anak ]
[ KB ]
[ Gigi & Mulut ]
```

ğŸ“¤ Ketika tombol diklik:

1. Sistem mengambil **prefix** dari layanan
2. Mencari **nomor terakhir** dari layanan tersebut di tabel `antrians`
3. Membuat **nomor baru** (misalnya dari A005 â†’ A006)
4. Menyimpan ke database:

   ```php
   antrians.create([
       'layanan_id' => 1,
       'nomor' => 'A006',
       'status' => 'menunggu'
   ])
   ```
5. Sistem langsung **mengirim perintah print** ke printer Bluetooth (misalnya PT-02)
6. Struk tercetak:

   ```
   --------------------------
   RSUD Santuy Medika
   Pemeriksaan Umum
   Nomor Antrian: A006
   --------------------------
   Tanggal: 07/11/2025
   Terima kasih telah menunggu
   --------------------------
   ```

---

## ğŸ§ 7ï¸âƒ£ Display Ruang Tunggu (Realtime)

**Halaman: `/display`**
Biasanya ditampilkan di monitor besar di ruang tunggu.

Tampilan realtime berisi:

| Layanan              | Loket | Nomor Terakhir | Status    |
| -------------------- | ----- | -------------- | --------- |
| Pemeriksaan Umum     | 1     | A006           | Dipanggil |
| Kesehatan Ibu & Anak | 2     | B002           | Menunggu  |
| Keluarga Berencana   | 3     | C005           | Selesai   |

âš¡ Realtime dilakukan via:

* Laravel Echo + Pusher (atau Laravel WebSockets)
* Event: `AntrianDipanggil`
* Listener di front-end menampilkan perubahan secara langsung tanpa reload

---

## ğŸ“ 8ï¸âƒ£ Loket Pemanggilan (Petugas)

**Halaman: `/petugas/loket`**

Petugas login â†’ sistem menampilkan **loket sesuai tugasnya**.
Contoh: Petugas login di Loket 1 â†’ hanya bisa mengelola antrian layanan Pemeriksaan Umum.

Di sini petugas punya tombol:

* â–¶ **Panggil Nomor**
* âœ… **Layani**
* âŒ **Batalkan**
* â¸ï¸ **Tutup Loket**

ğŸ“ Flow-nya:

1. Tekan **Panggil Nomor**
   â†’ sistem ambil 1 data `status = menunggu`
   â†’ ubah jadi `status = dipanggil`
   â†’ kirim event `AntrianDipanggil`
2. Monitor display berubah warna jadi biru â†’ â€œNomor A006 dipanggil di Loket 1â€
3. Setelah pasien datang â†’ tekan **Layani**
   â†’ status = `dilayani`
4. Setelah selesai â†’ tekan **Selesai**
   â†’ status = `selesai`
5. Jika loket istirahat â†’ **Tutup Loket**
   â†’ broadcast event `LoketDibukaDitutup` â†’ display berubah status â€œTutupâ€

---

## ğŸ“Š 9ï¸âƒ£ Dashboard & Statistik

**Halaman: `/admin/dashboard`**

Admin bisa melihat:

* Total antrian hari ini
* Jumlah selesai / menunggu / dibatalkan
* Grafik aktivitas per layanan
* Log aktivitas petugas

---

## ğŸ§¾ 1ï¸âƒ£0ï¸âƒ£ Cetak Struk Otomatis (Printer Bluetooth)

* Menggunakan library JS (mis. `Web Bluetooth API` atau `cordova-plugin-bluetooth-serial` untuk mode kiosk mobile)
* Data dikirim langsung dari `/kios` via JS ke printer
* Printer thermal mencetak tanpa koneksi kabel
* Template diatur di file `resources/views/kios/print.blade.php`

---

## ğŸ” 1ï¸âƒ£1ï¸âƒ£ Realtime System (Laravel Echo)

Event Realtime yang digunakan:

| Event                | Kapan Dikirim                | Dampak di Display     |
| -------------------- | ---------------------------- | --------------------- |
| `AntrianDipanggil`   | Saat petugas memanggil nomor | Nomor muncul di layar |
| `LoketDibukaDitutup` | Saat loket diaktif/tutup     | Warna ruang berubah   |
| `AntrianSelesai`     | Setelah pasien selesai       | Status jadi hijau     |

Konfigurasi ada di `.env`:

```
BROADCAST_DRIVER=pusher
PUSHER_APP_ID=xxxx
PUSHER_APP_KEY=xxxx
PUSHER_APP_SECRET=xxxx
PUSHER_APP_CLUSTER=ap1
```

---

## ğŸ” 1ï¸âƒ£2ï¸âƒ£ Security & Middleware

Setiap route dilindungi middleware:

* `auth` â†’ hanya user login yang bisa akses
* `role:admin` â†’ untuk dashboard admin
* `role:petugas` â†’ untuk halaman loket

Otentikasi bisa pakai Laravel Breeze atau Fortify.

---

## ğŸ“¦ 1ï¸âƒ£3ï¸âƒ£ Storage & Backup

* Data tersimpan di MySQL (InnoDB)
* Log aktivitas di `storage/logs/laravel.log`
* Gambar/logo di `storage/app/public/images/logo/`
* Backup otomatis (bisa pakai `spatie/laravel-backup`)

---

## ğŸ“ˆ 1ï¸âƒ£4ï¸âƒ£ Integrasi Lanjutan (opsional)

Kamu bisa kembangkan lebih lanjut:

* ğŸ“± Mobile version (PWA) â†’ untuk kiosk touchscreen
* ğŸ“Š Notifikasi suara panggilan (Text-to-Speech)
* ğŸ§® Estimasi waktu tunggu
* ğŸ§¾ Rekap laporan harian per layanan
* ğŸ§‘â€ğŸ’¼ Multi-instansi (bisa untuk sekolah, klinik, event)

---


PERINTAH : saya ingin css nya inline di dalam blade dan juga js nya. dan saya ingin seperti memakai extents atau endsection untuk meminimalisir kebanyakan kode. saya tegaskan agar tidak ada emoji 1 pun dan semuanya memakai font awesome icon bukan emoji. pertama buatkan file : 
